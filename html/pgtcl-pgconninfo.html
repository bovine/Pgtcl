<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.6.0">
<title>pg_dbinfo</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79">
<link rev="MADE" href="mailto:pgsql-docs@postgresql.org">
<link rel="HOME" title="PostgreSQL Tcl Interface Documentation" href="index.html">
<link rel="UP" title="pgtcl Command Reference" href="libpgtcl-ref.html">
<link rel="PREVIOUS" title="pg_connect" href="pgtcl-pgconnect.html">
<link rel="NEXT" title="pg_disconnect" href="pgtcl-pgdisconnect.html">
<link rel="STYLESHEET" type="text/css" href="stylesheet.css">
</head>
<body class="REFENTRY">
<div class="NAVHEADER">
<table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<th colspan="5" align="center" valign="bottom">PostgreSQL Tcl Interface Documentation</th>
</tr>
<tr>
<td width="10%" align="left" valign="top"><a href="pgtcl-pgconnect.html" accesskey="P">Prev</a></td>
<td width="10%" align="left" valign="top"><a href="pgtcl-pgconnect.html">Fast Backward</a></td>
<td width="60%" align="center" valign="bottom"></td>
<td width="10%" align="right" valign="top"><a href="pgtcl-pgdisconnect.html">Fast Forward</a></td>
<td width="10%" align="right" valign="top"><a href="pgtcl-pgdisconnect.html" accesskey="N">Next</a></td>
</tr>
</table>
<hr align="left" width="100%"></div>
<h1><a name="PGTCL-PGCONNINFO" id="PGTCL-PGCONNINFO"></a>pg_dbinfo</h1>
<div class="REFNAMEDIV"><a name="AEN599" id="AEN599"></a>
<h2>Name</h2>
pg_dbinfo&nbsp;--&nbsp;returns data about the connection<a name="IX-PGTCL-PGCONNINFO-2" id="IX-PGTCL-PGCONNINFO-2"></a></div>
<div class="REFSYNOPSISDIV"><a name="AEN604" id="AEN604"></a>
<h2>Synopsis</h2>
<pre class="SYNOPSIS">pg_dbinfo command ?conn? ?paramname?</pre></div>
<div class="REFSECT1"><a name="AEN606" id="AEN606"></a>
<h2>Description</h2>
<p><code class="FUNCTION">pg_dbinfo</code> returns data about the connection. The first argument is a command, and the second and third argument depend on the command chosen.</p>
</div>
<div class="REFSECT1"><a name="AEN610" id="AEN610"></a>
<h2>Arguments</h2>
<div class="VARIABLELIST">
<dl>
<dt><code class="PARAMETER">command</code></dt>
<dd>
<div class="VARIABLELIST">
<dl>
<dt><code class="PARAMETER">connections</code></dt>
<dd>
<p>Return a list of connection handles.</p>
</dd>
<dt><code class="PARAMETER">results connHandle</code></dt>
<dd>
<p>Return a list of result handles for the named connection.</p>
</dd>
<dt><code class="PARAMETER">version connHandle</code></dt>
<dd>
<p>Return server version for the connection.</p>
</dd>
<dt><code class="PARAMETER">protocol connHandle</code></dt>
<dd>
<p>Return protocol version for the connection.</p>
</dd>
<dt><code class="PARAMETER">param connHandle name</code></dt>
<dd>
<p>Return connection's value for the named parameter.</p>
</dd>
<dt><code class="PARAMETER">backendpid connHandle</code></dt>
<dd>
<p>Return server process ID for the connection.</p>
</dd>
<dt><code class="PARAMETER">socket connHandle</code></dt>
<dd>
<p>Return socket file handle for the connection.</p>
</dd>
<dt><code class="PARAMETER">sql_count connHandle</code></dt>
<dd>
<p>Return number of SQL queries that have been made for the connection.</p>
</dd>
<dt><code class="PARAMETER">dbname connHandle</code></dt>
<dd>
<p>Return name of the connected database.</p>
</dd>
<dt><code class="PARAMETER">user connHandle</code></dt>
<dd>
<p>Return logged in user name.</p>
</dd>
<dt><code class="PARAMETER">password connHandle</code></dt>
<dd>
<p>Return logged in user's password.</p>
</dd>
<dt><code class="PARAMETER">host connHandle</code></dt>
<dd>
<p>Return address of the connected host.</p>
</dd>
<dt><code class="PARAMETER">port connHandle</code></dt>
<dd>
<p>Return host port for the connection.</p>
</dd>
<dt><code class="PARAMETER">options connHandle</code></dt>
<dd>
<p>Return command line options passed in the connection request.</p>
</dd>
<dt><code class="PARAMETER">status connHandle</code></dt>
<dd>
<p>Return connection status.</p>
</dd>
<dt><code class="PARAMETER">transaction_status connHandle</code></dt>
<dd>
<p>Return transaction status.</p>
</dd>
<dt><code class="PARAMETER">error_message connHandle</code></dt>
<dd>
<p>Return the most recent error message on the connection.</p>
</dd>
<dt><code class="PARAMETER">needs_password connHandle</code></dt>
<dd>
<p>Return true if the connection required a password but none was available.</p>
<p>This function can be applied after a failed connection attempt to decide whether to prompt the user for a password.</p>
</dd>
<dt><code class="PARAMETER">used_password connHandle</code></dt>
<dd>
<p>Return true if the connection used a password.</p>
<p>This function can be applied after either a failed or successful connection attempt to detect whether the server demanded a password.</p>
</dd>
<dt><code class="PARAMETER">used_ssl connHandle</code></dt>
<dd>
<p>Return true if the connection uses SSL.</p>
</dd>
</dl>
</div>
</dd>
<dt><code class="PARAMETER">conn</code></dt>
<dd>
<p>The handle of the connection, when required.</p>
</dd>
<dt><code class="PARAMETER">param</code></dt>
<dd>
<p>The connection parameter name, when the command "param" is provided.</p>
</dd>
</dl>
</div>
</div>
<div class="REFSECT1"><a name="AEN730" id="AEN730"></a>
<h2>Return Value</h2>
<p>A Tcl list of connection handle names</p>
</div>
<div class="NAVFOOTER">
<hr align="left" width="100%">
<table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="pgtcl-pgconnect.html" accesskey="P">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html" accesskey="H">Home</a></td>
<td width="33%" align="right" valign="top"><a href="pgtcl-pgdisconnect.html" accesskey="N">Next</a></td>
</tr>
<tr>
<td width="33%" align="left" valign="top">pg_connect</td>
<td width="34%" align="center" valign="top"><a href="libpgtcl-ref.html" accesskey="U">Up</a></td>
<td width="33%" align="right" valign="top">pg_disconnect</td>
</tr>
</table>
</div>
</body>
</html>
